% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/vcf_parallel.R
\name{vcf_to_parquet_parallel_arrow}
\alias{vcf_to_parquet_parallel_arrow}
\title{Parallel VCF to Parquet conversion}
\usage{
vcf_to_parquet_parallel_arrow(
  input_vcf,
  output_parquet,
  threads = parallel::detectCores(),
  compression = "zstd",
  row_group_size = 100000L,
  streaming = FALSE,
  index = NULL,
  ...
)
}
\arguments{
\item{input_vcf}{Path to input VCF/BCF file (must be indexed)}

\item{output_parquet}{Path for output Parquet file}

\item{threads}{Number of parallel threads (default: auto-detect)}

\item{compression}{Compression codec}

\item{row_group_size}{Row group size}

\item{streaming}{Use streaming mode}

\item{index}{Optional explicit index path}

\item{...}{Additional arguments passed to vcf_open_arrow}
}
\value{
Invisibly returns the output path
}
\description{
Processes VCF/BCF file in parallel by splitting work across chromosomes/contigs.
Requires an indexed file. Each thread processes a different chromosome,
then results are merged into a single Parquet file.
}
\details{
This function:
\enumerate{
\item Checks for index (required for parallel processing)
\item Extracts contig names from header
\item Processes each contig in parallel using multiple R processes
\item Writes each contig to a temporary Parquet file
\item Merges all temporary files into final output using DuckDB
}

Contigs that return no variants are skipped automatically.
}
\examples{
\dontrun{
# Use 8 threads
vcf_to_parquet_parallel_arrow("wgs.vcf.gz", "wgs.parquet", threads = 8)

# With streaming mode for large files
vcf_to_parquet_parallel_arrow(
    "huge.vcf.gz", "huge.parquet",
    threads = 16, streaming = TRUE
)
}

}
